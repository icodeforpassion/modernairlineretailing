<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>From TTY to EDIFACT: Structuring Airline Messages</title>
  <meta name="description" content="From TTY to EDIFACT: Structuring Airline Messages - a practical, implementation-focused walkthrough for airline retailing teams with deep examples of TTY, Type A vs Type B, and sample PAOREQ/PAORES, ITAREQ/ITARES, HWPREQ/HWPRES messages."/>
  <meta property="og:title" content="From TTY to EDIFACT: Structuring Airline Messages"/>
  <meta property="og:description" content="From TTY to EDIFACT: Structuring Airline Messages - practical walkthrough with detailed legacy and modern airline messaging examples."/>
  <meta property="og:type" content="article"/>
  <meta property="og:image" content="/blog/images/blog-2.jpg"/>
  <meta property="og:url" content="https://www.modernairlineretailing.com/blog/2024-02-05-from-tty-to-edifact-structuring-airline-messages.html"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"/>
  <style>
    :root {
      --overlay-dark: rgba(13,27,42,.75);
      --accent: #485fc7;
      --bg-soft: #f5f7fa;
    }
    .hero-banner { background: url('/blog/images/blog-2.jpg') center/cover no-repeat; }
    .overlay { background: linear-gradient(180deg, var(--overlay-dark), rgba(13,27,42,.55)); }
    .home-btn { position: sticky; top: 0; display: inline-block; margin: 0.5rem 0 1rem; }
    .content p { line-height: 1.7; }
    pre, code { font-family: "Source Code Pro", Consolas, monospace; font-size: .85rem; }
    pre.block {
      background:#0d1b2a; color:#e6eef7; padding:1rem 1.1rem; border-radius:6px; overflow:auto;
      box-shadow:0 1px 3px rgba(0,0,0,.25);
    }
    .box-note { background: var(--bg-soft); border-left:4px solid var(--accent); padding:1rem 1.25rem; }
    .pill { display:inline-block; background:#eef; padding:.25rem .65rem; margin:0 .35rem .35rem 0; border-radius:1rem; font-size:.65rem; letter-spacing:.5px; font-weight:600; }
    h2, h3, h4 { scroll-margin-top: 85px; }
    .toc { background: var(--bg-soft); border-left:4px solid var(--accent); padding:1rem 1.25rem; margin:1.5rem 0; }
    .callout { background:#fffceb; border:1px solid #ffe08a; padding:1rem 1.25rem; border-radius:6px; }
    .table-wrap { overflow-x:auto; }
    table { border-collapse:collapse; width:100%; font-size:.85rem; }
    th, td { border:1px solid #d9e0ea; padding:.5rem .55rem; vertical-align:top; }
    th { background:#f0f3f8; }
    mark { background:#fffa9e; padding:0 .2em; }
    @media (max-width:768px){
      pre.block { font-size:.75rem; }
      .hero.is-medium .hero-body { padding:3rem 1.25rem; }
    }
  </style>
  <link rel="stylesheet" href="/assets/site.css"/>
  <link rel="stylesheet" href="/assets/post.css"/>
</head>
<body>
  <header class="site-header"></header>
  <main class="page-content">
  <section class="hero is-medium hero-banner">
    <div class="hero-body overlay">
      <div class="container">
        <a class="button is-light home-btn" href="/index.html">Home</a>
        <h1 class="title has-text-white">From TTY to EDIFACT: Structuring Airline Messages</h1>
        <p class="subtitle has-text-white">February 05, 2024</p>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container content">
      <!-- EXTENDED LEGACY + EDIFACT CONTENT -->
      <h2 id="legacy-messaging">Deep Dive: TTY, Type A, Type B & Modern Equivalents</h2>
      <p>Let us walk through the evolution calmly and systematically, removing any mystery – just clear building blocks you can implement and test.</p>

      <div class="box-note">
        <strong>Quick Definitions (Plain Talk)</strong>
        <ul>
          <li><strong>TTY (Teletype / Teletypewriter):</strong> Historically the physical or emulated channel where line‑oriented uppercase messages went over a store‑and‑forward network (SITA Type B style).</li>
          <li><strong>Type A:</strong> Structured, transactional, near real-time airline messages (e.g., interactive seat confirmation) over a higher level, strongly typed network service. Lower latency, more request/response semantics.</li>
          <li><strong>Type B:</strong> Store-and-forward, line (teleprinter) style. Messages are plain text blocks with headers and codes (e.g., PNL, ADL, SSM). More tolerant of human readability; batching common.</li>
          <li><strong>EDIFACT (IATA PADIS flavor):</strong> Standardized structured segments (TAG+qualifiers+data elements). Machine-parse friendly, used for reservations, ticketing, interline, revenue accounting interfaces.</li>
          <li><strong>XML / JSON (NDC / modern APIs):</strong> Fine-grained, service-oriented, often over HTTPS. Faster iteration, more extensibility, but must still map to legacy for settlement.</li>
        </ul>
      </div>

      <h3 id="type-a-vs-b">Type A vs Type B (Why we cared)</h3>
      <table>
        <thead>
          <tr><th>Dimension</th><th>Type A</th><th>Type B (TTY style)</th><th>Modern API (Reference)</th></tr>
        </thead>
        <tbody>
          <tr><td>Primary Use (classic)</td><td>Interactive host queries, confirmations</td><td>Operational notices, passenger lists, schedule messages</td><td>Shopping, offer management, order servicing</td></tr>
          <tr><td>Transport</td><td>Real-time session / switched network</td><td>Store-and-forward network (queued)</td><td>HTTP(S), MQ, event streams</td></tr>
          <tr><td>Structure</td><td>Field oriented</td><td>Free-form lines + coded blocks</td><td>Schema (XSD/JSON Schema)</td></tr>
          <tr><td>Latency Expectation</td><td>Seconds (interactive)</td><td>Minutes (acceptable historically)</td><td>Sub-second to seconds</td></tr>
          <tr><td>Error Handling</td><td>Immediate code/ack</td><td>Non-delivery notices / manual follow-up</td><td>HTTP codes + structured errors</td></tr>
          <tr><td>Extensibility</td><td>Limited</td><td>Ad hoc free text risky</td><td>High (versioned fields)</td></tr>
        </tbody>
      </table>

      <h3 id="tty-anatomy">Anatomy of a Type B / TTY Message</h3>
      <p>Think of it like an old postcard you drop in a box; it finds the route. Components typically:</p>
      <ol>
        <li><strong>Address line(s):</strong> Destination(s) (SITA addresses, e.g., <code>AAAAPXH</code>). Multiple lines if multi-cast.</li>
        <li><strong>Origin/Date-Time stamp:</strong> Often auto-added.</li>
        <li><strong>Message type indicator:</strong> e.g., <code>PNL</code>, <code>ADL</code>, <code>SSM</code>.</li>
        <li><strong>Body:</strong> Coded lines (segments, SSR/OSI elements).</li>
        <li><strong>Ending:</strong> Sometimes <code>//</code> or a blank line; network-specific.</li>
      </ol>

      <pre class="block" aria-label="Sample minimal Type B header">
.QXHAA4D
/DELAAA
  PNL 1234/25MAY DELCOK 25MAY
  001 SMITH/JOHNMR
  002 LEENA/PRIYAMSMRS SSR WCHR
//
</pre>

      <p><strong>Note:</strong> Formatting varies by carrier/GDS and network gateway. Uppercase prevailed because of teleprinter limitations.</p>

      <h3 id="classic-types">Classic Common Type B (AirIMP) Message Codes (Sample)</h3>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Code</th><th>Meaning (Simplified)</th><th>Example Use</th></tr></thead>
          <tbody>
            <tr><td>PNL</td><td>Passenger Name List</td><td>Send list to departure control</td></tr>
            <tr><td>ADL</td><td>Additions/Deletions List</td><td>Changes after initial PNL</td></tr>
            <tr><td>SSM</td><td>Schedule (Standard) Message</td><td>Publish or update flight schedule</td></tr>
            <tr><td>ASM</td><td>Ad-hoc Schedule Message</td><td>Operational change (aircraft type/time)</td></tr>
            <tr><td>MVT</td><td>Movement Message</td><td>Actual off/on/off-block times</td></tr>
            <tr><td>LDM</td><td>Load Message</td><td>Distribution of load onboard</td></tr>
            <tr><td>PTM</td><td>Passenger Transfer Message</td><td>Transfer pax data to next carrier</td></tr>
            <tr><td>PFS</td><td>Passenger Final Sales (context dependent)</td><td>Revenue or final sale summary</td></tr>
          </tbody>
        </table>
      </div>

      <h3 id="requested-codes">About PAOREQ / ITAREQ / HWPREQ (Important Disclaimer)</h3>
      <p>These label styles (REQUEST/RESPONSE pairs like <code>PAOREQ</code>/<code>PAORES</code>, <code>ITAREQ</code>/<code>ITARES</code>, <code>HWPREQ</code>/<code>HWPRES</code>) appear in several internal airline ICDs or vendor-specific EDIFACT/PADIS profiles. They are <strong>not universal AirIMP codes</strong>. What follows is an illustrative template to understand structural patterns. Validate naming and exact segment usage with your host provider and the specific PADIS version you implement.</p>
      <p>First we show a simplified “TTY-like” representation, then an EDIFACT version, then a modern JSON analogy for mapping clarity.</p>

      <h2 id="paoreq">1. PAOREQ / PAORES (Illustrative “Pricing & Availability Offer”)</h2>
      <h3>Legacy TTY-Style (Conceptual)</h3>
      <pre class="block">
.QXHAA4D
/BOMXYZ
PAOREQ
REF 7K3H82
ORIGIN BOM
DEST DEL
DATE 25MAY
PAX 01
CABIN Y
RBD  Y,M,H
CORP CODE ACME01
//</pre>

      <h3>EDIFACT-Like PAOREQ (Illustrative)</h3>
      <pre class="block">
UNA:+.? '
UNB+IATB:1+AIRLINECODE+SELLERID+240125:1045+000012345'
UNH+0001+PAOREQ:D:24A:UN:IATA'
MSG+1'
ORG+179+BOM'
DST+179+DEL'
DTM+710:20240525:102'
PTY+1+ADT'
RBD+Y:M:H'
CUX+2:INR'
RPI+1+CORP:ACME01'
RCI+PREF:Y'
UNT+11+0001'
UNZ+1+000012345'
</pre>

      <p><strong>Segment Notes (Simplified):</strong></p>
      <ul>
        <li><code>UNH</code> identifies message and version.</li>
        <li><code>ORG/DST</code> used here as stand-ins (real implementations may use LOC segments).</li>
        <li><code>DTM</code> sets travel date.</li>
        <li><code>RBD</code> may appear differently depending on spec (sometimes within FLI/FTI context).</li>
      </ul>

      <h3>EDIFACT-Like PAORES (Response)</h3>
      <pre class="block">
UNA:+.? '
UNB+IATB:1+AIRLINECODE+SELLERID+240125:1045+000012346'
UNH+0002+PAORES:D:24A:UN:IATA'
MSG+1'
RFF+CR:7K3H82'
DTM+329:20240525:102'
CUX+2:INR'
AVL+1+Y:Y9+M:M4+H:H2'
FLI+1+AI402+BOM:DEL+20240525T0700+20240525T0905'
FAR+1+Y:INR:5600'
FAR+2+M:INR:4500'
FAR+3+H:INR:3900'
TTL+P:01+INR:4500'
UNT+15+0002'
UNZ+1+000012346'
</pre>

      <p><strong>Key idea:</strong> Availability (AVL) lists RBD counts (Y9 means 9 or more). Fares (FAR) tie price to booking class. Actual specs may prefer different segments or qualifiers.</p>

      <h3>Modern JSON Analogy</h3>
      <pre class="block">
{
  "requestId": "7K3H82",
  "origin": "BOM",
  "destination": "DEL",
  "date": "2024-05-25",
  "pax": [{"type": "ADT", "count": 1}],
  "consideredRBD": ["Y","M","H"],
  "currency": "INR",
  "corporateCode": "ACME01"
}
</pre>

      <pre class="block">
{
  "requestId": "7K3H82",
  "itineraries": [{
    "flightNumber": "AI402",
    "origin": "BOM",
    "destination": "DEL",
    "dep": "2024-05-25T07:00+05:30",
    "arr": "2024-05-25T09:05+05:30",
    "availability": {"Y": 9, "M": 4, "H": 2},
    "fares": [
      {"rbd": "Y", "amount": 5600, "currency": "INR", "brand": "Flex"},
      {"rbd": "M", "amount": 4500, "currency": "INR", "brand": "Standard"},
      {"rbd": "H", "amount": 3900, "currency": "INR", "brand": "Saver"}
    ],
    "lowestOffered": {"rbd":"H","amount":3900,"currency":"INR"}
  }],
  "pricingSource": "HOST",
  "timestamp": "2024-01-25T10:45:52Z"
}
</pre>

      <h2 id="itareq">2. ITAREQ / ITARES (Itinerary Request/Response – Illustrative)</h2>
      <p>Assume we already shortlisted flight numbers and now request enriched itinerary details (equipment, terminals, married segment validation) step by step.</p>

      <h3>TTY-Like ITAREQ</h3>
      <pre class="block">
.QXHAA4D
/MAAABC
ITAREQ
REF J9LM55
FLT AI402 25MAY BOM DEL
NEED EQPT TERM RBDMAP
//
</pre>

      <h3>EDIFACT-Like ITAREQ</h3>
      <pre class="block">
UNA:+.? '
UNB+IATB:1+SELLERID+AIRLINECODE+240125:1110+000045671'
UNH+1001+ITAREQ:D:24A:UN:IATA'
RFF+CR:J9LM55'
FLI+1+AI402+BOM:DEL+20240525T0700+20240525T0905'
RQI+EQP:TRM:RBD'
UNT+6+1001'
UNZ+1+000045671'
</pre>

      <h3>EDIFACT-Like ITARES</h3>
      <pre class="block">
UNA:+.? '
UNB+IATB:1+AIRLINECODE+SELLERID+240125:1110+000045672'
UNH+1002+ITARES:D:24A:UN:IATA'
RFF+CR:J9LM55'
FLI+1+AI402+BOM:DEL+20240525T0700+20240525T0905'
EQP+32N'
TRM+DEP:T2+ARR:T3'
RBD+Y:M:H'
OPS+ON:20240525T0652+IN:20240525T0909'
UNT+9+1002'
UNZ+1+000045672'
</pre>

      <p><strong>Notes:</strong> <code>EQP</code> shows equipment (e.g., 32N for A321neo). <code>TRM</code> gives terminal info. <code>OPS</code> illustrative. Real specs often use DTM with qualifiers for operational times.</p>

      <h3>JSON Analogy</h3>
      <pre class="block">
{
  "requestId": "J9LM55",
  "flights": [{
    "flightNumber": "AI402",
    "date": "2024-05-25",
    "departure": {"airport":"BOM","timeLocal":"07:00","terminal":"T2"},
    "arrival": {"airport":"DEL","timeLocal":"09:05","terminal":"T3"},
    "equipment": "32N",
    "rbdApplicable": ["Y","M","H"],
    "operationalTimes": {
      "offBlock":"2024-05-25T06:52+05:30",
      "inBlock":"2024-05-25T09:09+05:30"
    }
  }]
}
</pre>

      <h2 id="hwpreq">3. HWPREQ / HWPRES (Hold With Payment – Illustrative)</h2>
      <p>This models: “Hold itinerary and price; confirmation (payment or ticketing) will follow.” A booking shell or provisional PNR with a time limit is often created.</p>

      <h3>TTY-Like HWPREQ</h3>
      <pre class="block">
.QXHAA4D
/BLRAC1
HWPREQ
REF Q2ZR77
PAX 1 ADT
ITIN AI402 25MAY BOM DEL RBD H
FARE INR3900 TAX INR812 TOTAL INR4712
PAY HOLD TL 25JAN 1800 IST
SSR FQTV AI 1234567890
//
</pre>

      <h3>EDIFACT-Like HWPREQ</h3>
      <pre class="block">
UNA:+.? '
UNB+IATB:1+SELLERID+AIRLINECODE+240125:1130+000078900'
UNH+2001+HWPREQ:D:24A:UN:IATA'
RFF+CR:Q2ZR77'
PTY+1+ADT'
PAX+1'
FLI+1+AI402+BOM:DEL+20240525T0700+20240525T0905'
RBD+H'
PRI+H:INR:3900'
TAX+INR:812:TT'
MOA+TT:4712:INR'
TMD+HOLD:20240125T1800+Asia/Kolkata'
FQTV+AI:1234567890'
UNT+13+2001'
UNZ+1+000078900'
</pre>

      <h3>EDIFACT-Like HWPRES (Hold Confirmation)</h3>
      <pre class="block">
UNA:+.? '
UNB+IATB:1+AIRLINECODE+SELLERID+240125:1130+000078901'
UNH+2002+HWPRES:D:24A:UN:IATA'
RFF+CR:Q2ZR77'
PNR+LOC:AB3X9Q'
STS+HOLD'
DTM+203:20240125T1800'
PRI+H:INR:3900'
MOA+TT:4712:INR'
RCF+OK'
UNT+10+2002'
UNZ+1+000078901'
</pre>

      <h3>JSON Analogy</h3>
      <pre class="block">
{
  "requestId": "Q2ZR77",
  "action": "HOLD",
  "itinerary": [{
    "flightNumber":"AI402",
    "date":"2024-05-25",
    "rbd":"H",
    "price":{"base":3900,"tax":812,"total":4712,"currency":"INR"}
  }],
  "pax":[{"type":"ADT"}],
  "fqtv":[{"carrier":"AI","number":"1234567890"}],
  "timeLimit":"2024-01-25T18:00:00+05:30"
}
</pre>

      <h2 id="error-handling">4. Error / Rejection Patterns</h2>
      <p>Legacy TTY often returned short text rejections. EDIFACT enables structured error codes; modern JSON can add detail and remediation hints.</p>

      <h3>TTY Error Example</h3>
      <pre class="block">
PAORES
REF 7K3H82
REJECT CLASS CLOSED
ALT M H ONLY
//
</pre>

      <h3>EDIFACT Error Snippet</h3>
      <pre class="block">
UNH+0003+PAORES:D:24A:UN:IATA'
RFF+CR:7K3H82'
ERC+911:CLASS CLOSED'
RBD+M:H'
UNT+5+0003'
</pre>

      <h3>JSON Error Analogy</h3>
      <pre class="block">
{
  "requestId": "7K3H82",
  "status": "REJECTED",
  "errors":[
    {"code":"CLASS_CLOSED","detail":"Requested RBD Y not available"},
    {"code":"ALTERNATIVES","detail":"Try M or H"}
  ],
  "alternatives":["M","H"]
}
</pre>

      <h2 id="mapping-table">5. Mini Mapping Cheatsheet</h2>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Concept</th><th>TTY / Type B (Example)</th><th>EDIFACT (Illustrative)</th><th>JSON (Modern)</th></tr></thead>
          <tbody>
            <tr><td>Request ID</td><td>REF 7K3H82</td><td>RFF+CR:7K3H82'</td><td>requestId</td></tr>
            <tr><td>Origin/Destination</td><td>ORIGIN BOM / DEST DEL</td><td>LOC+125:BOM' LOC+167:DEL' (or FLI composite)</td><td>origin / destination</td></tr>
            <tr><td>Date</td><td>DATE 25MAY</td><td>DTM+710:20240525:102'</td><td>date</td></tr>
            <tr><td>RBD List</td><td>RBD Y,M,H</td><td>RBD+Y:M:H'</td><td>consideredRBD</td></tr>
            <tr><td>Availability</td><td>Y9 M4 H2</td><td>AVL+1+Y:Y9+M:M4+H:H2'</td><td>availability {Y:9,M:4,H:2}</td></tr>
            <tr><td>Fare</td><td>FARE INR3900</td><td>PRI+H:INR:3900'</td><td>"amount":3900,"currency":"INR"</td></tr>
            <tr><td>Time Limit</td><td>TL 25JAN 1800 IST</td><td>DTM+203:20240125T1800'</td><td>timeLimit</td></tr>
            <tr><td>Hold Status</td><td>HOLD</td><td>STS+HOLD'</td><td>status:"HOLD"</td></tr>
            <tr><td>Frequent Flyer</td><td>SSR FQTV AI 1234567890</td><td>FQTV+AI:1234567890'</td><td>fqtv array entry</td></tr>
          </tbody>
        </table>
      </div>

      <h2 id="practical-tips">6. Practical Implementation Tips</h2>
      <ul>
        <li><strong>Explicit Parsing:</strong> Avoid brittle substring offsets for TTY; use regex plus a dictionary of recognized prefixes.</li>
        <li><strong>Normalise Early:</strong> Convert TTY to an internal canonical object model first; then render EDIFACT / JSON.</li>
        <li><strong>Round-Trip Tests:</strong> Canonical → EDIFACT → parse back → compare objects to catch field loss.</li>
        <li><strong>Latency Budget:</strong> Log each stage (parse, validate, price, compose) with timing.</li>
        <li><strong>Content Validation:</strong> Enforce a schema (JSON Schema) on the canonical model even if source is free text.</li>
        <li><strong>Semantic Versioning:</strong> Add version headers; allow backward-compatible additions.</li>
        <li><strong>Error Transparency:</strong> Map internal errors to stable external codes; keep a translation table.</li>
        <li><strong>Message Archive:</strong> Store raw original + parsed canonical with correlation IDs for audit.</li>
      </ul>

      <h2 id="qa">7. Validation Checklist (Quick Pass)</h2>
      <ul>
        <li><strong>Address Validity:</strong> Outgoing Type B addresses active and correct?</li>
        <li><strong>Segment Conformance:</strong> EDIFACT validated against current PADIS dictionary automatically?</li>
        <li><strong>State Synchronisation:</strong> Hold responses always include locator before time limit countdown?</li>
        <li><strong>RBD Consistency:</strong> Returned RBDs exist in inventory mapping for travel date.</li>
        <li><strong>Currency Source:</strong> Currency selection rule documented and deterministic?</li>
        <li><strong>Clock Discipline:</strong> Internal UTC; local times only at presentation edges.</li>
      </ul>

      <h2 id="summary">8. Summary</h2>
      <div class="callout">
        <strong>Core Idea:</strong> TTY (Type B) was a low-friction compromise between human readability and machine processing. EDIFACT added structure and standardization. Modern JSON/NDC adds flexibility and speed. Anchor everything in a canonical model, maintain traceability (requestId / correlation IDs), validate consistency across translations, and you reduce hidden integration risk.
      </div>

      <h2 id="disclaimer">9. Disclaimer & Sources</h2>
      <p><strong>Disclaimer:</strong> The PAOREQ/PAORES, ITAREQ/ITARES, HWPREQ/HWPRES examples are illustrative composites for learning. Real-world segment names, qualifiers, and mandatory elements differ by PADIS version, host, and bilateral agreements. Always consult:</p>
      <ul>
        <li>IATA PADIS Implementation Guides (current version for your program).</li>
        <li>AirIMP documentation for legacy TTY code semantics.</li>
        <li>Vendor (GDS/host) Interface Control Documents (ICDs).</li>
      </ul>

      <hr/>
      <nav class="level">
        <div class="level-left">
          <a class="button is-link is-light" href="/blog/2024-01-15-early-rbd-revenue-management-how-booking-classes-shaped-control.html">← Previous</a>
        </div>
        <div class="level-right">
          <a class="button is-link" href="/blog/2024-02-27-atpco-fare-filing-fares-rules-footnotes-practice.html">Next →</a>
        </div>
      </nav>
      <p><a href="/blog/index.html">Back to all blogs</a></p>
      <p style="font-size:.75rem;color:#777;">Extended examples prepared for educational purposes; verify against authoritative IATA and vendor specs before production use.</p>
    </div>
  </section>
  </main>
  <footer class="site-footer"></footer>
  <script src="/assets/site.js" defer></script>
  <!-- Analytics configuration notes: Ensure GA4 Enhanced Measurement (including "Outbound clicks") remains enabled, validate tag deployment via https://tagassistant.google.com, monitor linkedin_redirect under GA4 → Reports → Engagement → Events, and mark it as a conversion in GA4 Admin → Events if desired. -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const linkedInLinks = document.querySelectorAll('a[href*="linkedin.com"]');
      linkedInLinks.forEach(function (link) {
        link.addEventListener('click', function (event) {
          if (event.defaultPrevented || event.button !== 0 || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey) {
            return;
          }
          const href = link.href;
          event.preventDefault();
          if (typeof gtag === 'function') {
            gtag('event', 'linkedin_redirect', {
              event_category: 'Outbound',
              event_label: href,
              transport_type: 'beacon'
            });
          }
          setTimeout(function () {
            const target = link.getAttribute('target');
            if (target && target !== '_self') {
              window.open(href, target);
            } else {
              window.location.href = href;
            }
          }, 150);
        });
      });
    });
  </script>
</body>
</html>
